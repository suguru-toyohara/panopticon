# StoryPoint割り振りとモジュール分割方針

## 日時
2025年3月5日 5:30-5:40

## 参加者
- ユーザー
- Cline

## 議題
1. 不要な粒度のmodule分割をmergeする基準について
2. 各モジュールへのStoryPoint割り振り

## 議論内容

### モジュール分割をマージする基準について
- 同じ機能を持つモジュールはマージすべき
- 依存関係が強いだけではマージの判断基準にならない
- 小さすぎて分割する意味がないモジュール（JSONの処理など）はマージしたい
- メンテナンス性の観点は現状あまり考慮しなくてよい

結論として、「一旦分けて作る方向で行き、その後にマージしても遅くない」という方針に決定。全部書いてみてから何をマージするか決めることにした。

### StoryPoint割り振り
各モジュールに対して、2pt = 1時間として見積もりを行った。

#### 基盤モジュール
- PromptをOpenRouterAPIに投げる基本的なモジュール: 4pt (2時間)
- jsonを読み出す機能 module: 2pt (1時間)
- PCから正確に時間を測ってくれる機能: 2pt (1時間)
- JSONデータからマークダウン形式のTODOリストを生成するmodule機能: 4pt (2時間)
- 依存関係を視覚的に表現するMermaid図を自動生成するmodule機能: 6pt (3時間)

#### 第2層モジュール
- Promptを自動生成して投げる機能: 6pt (3時間)
- config.jsonを読み出したりする機能: 4pt (2時間)
- プロジェクトフォルダ内で各種マイルストーン名.jsonをimportするmodule: 4pt (2時間)
- JSONからMDファイルを自動生成するmodule: 6pt (3時間)

#### 第3層モジュール
- 計測された進捗の予測・実測を元にマイルストーンの到達予想時刻を表示する機能: 8pt (4時間)
- 統計データを元に進捗予測時間のフィードバック修正機能module: 8pt (4時間)
- プロジェクトフォルダ内に各種マイルストーン名.jsonとmdをexportするmodule: 4pt (2時間)

#### 第4層モジュール
- 1時間ごとに進捗を聞いてくるPromptをAPI経由で流し、ユーザに応答するようにさせるmodule: 10pt (5時間)
- タスク/マイルストーン/プロジェクト という形で管理するmodule: 12pt (6時間)
- 進捗予測値作成module: 8pt (4時間)

#### 拡張モジュール
- 人格機能module: 10pt (5時間)
- TUImodule: 12pt (6時間)

## 次のステップ
- 依存関係順に実装を進める
- 基盤モジュールから順に実装していく
