# 設計

**この文章は、困ったときに参照するようにしてください。**

## アーキテクチャ

- deno 2.2.2を使用する
- ほとんどはシステムで構築するが、一部判断をOpenRouterAPIを使用してClaude 3.7 sonnetを実行するようにする
- githubのcline/clineを参考にagentの基礎を作成すると良いかも
  - https://github.com/cline/cline

## 要件と仕様

### 名前

- パノプティコン
- 刑務所の監視要員として、私たちの作業を監視してくれるソフトウェア

### 真に解決したい問題:要求

- 自分の作業の管理とかができない人のため、作業予定時間などを丁寧に管理しててケツを叩いてくれるソフトウェアが欲しい
- 疲れた現代人のために、AIが代わりに考えてくれるソフトウェア
- 基本ログは.mdで保存し、読み出す。

### 要件・要求を満たすために必要な要素 v0.2.0

それぞれ作成すべきdenoモジュールになっている。
依存関係も含む要素を作成する。

- [ ] 1時間ごとに進捗を聞いてくるPromptをAPI経由で流し、ユーザに応答するようにさせるmodule v0.2.0
  - [ ] Promptを自動生成して投げる機能 v0.1.0
    - [ ] PromptをOpenRouterAPIに投げる基本的なモジュール v0.1.0 
- [ ] タスク/マイルストーン/プロジェクト という形で管理するmodule v0.1.0
  - [ ] プロジェクトフォルダ内に各種マイルストーン名.mdを作成し、それを読み出して構造化する機能 v0.1.0
  - [ ] config.jsonを読み出したりする機能 v0.1.0
- [ ] 進捗予測値作成module(must) v0.1.0
  - [ ] PCから正確に時間を測ってくれる機能(must) v0.1.0
  - [ ] 計測された進捗の予測・実測を元にマイルストーンの到達予想時刻を表示する機能(must)
    - [ ] Promptを自動生成して投げる機能 v0.1.0
      - [ ] PromptをOpenRouterAPIに投げる基本的なモジュール v0.1.0 
  - [ ] 統計データを元に進捗予測時間のフィードバック修正機能module (must) v.0.1.0
    - [ ] Promptを自動生成して投げる機能 v0.1.0
      - [ ] PromptをOpenRouterAPIに投げる基本的なモジュール v0.1.0 
- [ ] 人格機能module v0.1.0 (enhance)
  - [ ] 励ましの機能とかもつける
  - [ ] 様々な人格を入れておく。
- [ ] TUImodule(enhance)
  - [ ] 進捗統計表示機能(enhance)



### ビルド

- denoのバイナリ形式を採用する

